---
import { formatDate } from "@/lib/utils";
import { Image } from "astro:assets";
import internetMap from "../content/blog/2024-01/netTransformerInternetMap.webp";

const { entry } = Astro.props;
const formattedDate = formatDate(entry.data.pubDate);
console.log("[BlogCard] Entry:", entry.props.id);
const base = import.meta.env.BASE_URL;
---

<li
  class="hover:bg-blue-900/15 rounded-xl border-[0.2px] p-4 transition-colors duration-300 ease-in-out"
>
  <a
    href={`/${base}/${entry.collection}/${entry.props.id}`}
    class="flex flex-col gap-4 sm:flex-row sm:items-center"
  >
    {
      entry.data.image && (
        <div class="w-full sm:w-1/3 sm:shrink-0">
          <Image
            src={entry.data.image || internetMap}
            alt={entry.data.title}
            class="object-cover rounded-sm"
          />
        </div>
      )
    }
    <div class="text-left hover:text-secondary-text">
      <em class="font-mono text-xs mb-2 font">{formattedDate}</em>
      <h3 class="font-display text-lg md:text-xl font-medium mb-1">
        {entry.data.title}
      </h3>
      <p class="text-xs line-clamp-2 overflow-hidden">
        {entry.data.description}
      </p>
    </div>
  </a>
</li>
